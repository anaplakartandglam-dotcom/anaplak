"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.QueueManager = void 0;
const queue_js_1 = require("./queue.js");
const throw_js_1 = require("./throw.js");
const default_part_name_js_1 = require("../utils/default-part-name.js");
class QueueManager {
    constructor(name, resetter, namedParts) {
        this._queues = new Map();
        this._name = name;
        this._namedParts = namedParts;
        this._namedParts.forEach(part => {
            this._queues.set(part, new queue_js_1.Queue(this._name, resetter));
        });
    }
    get(part) {
        var _a;
        return (_a = this._queues.get(part)) !== null && _a !== void 0 ? _a : (0, throw_js_1.throwExp)(`No queue found for part: ${part}`);
    }
    clear() {
        this._queues.forEach(queue => queue.clear());
    }
    add(item) {
        if (item.partName === default_part_name_js_1.DEFAULT_PART_NAME && !this._namedParts.includes(default_part_name_js_1.DEFAULT_PART_NAME)) {
            this._queues.forEach(queue => queue.add(item));
            return;
        }
        this.get(item.partName).add(item);
    }
    resetIndices() {
        this._queues.forEach(queue => queue.resetIndices());
    }
}
exports.QueueManager = QueueManager;
//# sourceMappingURL=queue-manager.js.map