import { Queue } from './queue.js';
import { throwExp } from './throw.js';
import { DEFAULT_PART_NAME } from '../utils/default-part-name.js';
export class QueueManager {
    constructor(name, resetter, namedParts) {
        this._queues = new Map();
        this._name = name;
        this._namedParts = namedParts;
        this._namedParts.forEach(part => {
            this._queues.set(part, new Queue(this._name, resetter));
        });
    }
    get(part) {
        var _a;
        return (_a = this._queues.get(part)) !== null && _a !== void 0 ? _a : throwExp(`No queue found for part: ${part}`);
    }
    clear() {
        this._queues.forEach(queue => queue.clear());
    }
    add(item) {
        if (item.partName === DEFAULT_PART_NAME && !this._namedParts.includes(DEFAULT_PART_NAME)) {
            this._queues.forEach(queue => queue.add(item));
            return;
        }
        this.get(item.partName).add(item);
    }
    resetIndices() {
        this._queues.forEach(queue => queue.resetIndices());
    }
}
//# sourceMappingURL=queue-manager.js.map